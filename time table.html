<!DOCTYPE html>
<html lang="en">
<head>
	<link rel="stylesheet" href="css/template-style.css">
	<link rel="stylesheet" href="css/components.css">
	<link rel="stylesheet" href="css/responsee.css">



	<header class="grid">
		<!-- Top Navigation -->
		<nav class="s-12 grid background-aqua background-primary-hightlight">
		   <!-- logo -->
		   <div class="logo_content d-flex flex-row align-items-end justify-content-start">
			<div class="logo_img"><img src="img/logo.png" alt=""></div>

		  </div>
		   <div class="top-nav s-12 l-9"> 
			  <ul class="top-ul right chevron">
				<li><a href="index.html">Home</a></li>
				<li><a href="department.html">Departments</a></li>
				<li><a href="payment.html">Payment</a></li>
				<li><a href="register.html">Register</a></li>
				<li><a href="time table.html">Time Table</a></li>

			  </ul>
		   </div>
		</nav>
	  </header>
	</head>
  <title>Faculty Time Table</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  <style type="text/css">
	
	@media print
	{    
    	.no-print, .no-print *
    	{
        	display: none !important;
    	}
    	@page { size: a4;  margin: 10px; max-width: 100%; }
 	}

    .time_crumbs
    {
    	border:1px solid lightgray; 
    	background-color: rgb(119, 0, 255); 
    	padding: 10px 4px; 
    	border-radius: 7px; 
    	color: white;
    	z-index: 10;
    }
    .time_crumbs:hover
    {
	 cursor: pointer;
	 z-index: 9999;
	}
	.delete_subject:hover
	{
		cursor: pointer;
	}
	.subject_crumbs:hover
	{
		cursor: pointer;
		 z-index: 9999;
	}
	.top {z-index: 100!important; position: relative}
	.bottom {z-index: 10!important; position: relative}
	table.table-bordered > thead > tr > th
	{
 	 border:2px solid dodgerblue;
	}
	table.table-bordered > tbody > tr > th
	{
 	 border:2px solid dodgerblue;
	}	
	table.table-bordered > tbody > tr > td
	{
 	 border:2px solid gray;
	}
	
  </style>
 
<body>
<div class="container-fluid">
	<div class="row">

		<div class="col-lg-3 no-print" style="min-height: 100vh; background-color: gray; display: flex; flex-direction: column; justify-content: center; text-align: center; ">

			<div  style="display:inline-block; padding-top: 20px;">
				<button id="step1" class="btn btn-info">Setp 1</button>
				<button id="step2" class="btn btn-info">Step 2</button>
				<button id="step3" class="btn btn-info">Step 3</button>				
			</div>

			<!-- First Block -->
 			<div  id="user_pass_1" style="display: block; padding: 40px 0px;">
 				<div class="form-group text-left">
	 				<label>Classes Start At</label>	
	 				<input class="form-control" type="time" id="p2_1">		 					
 				</div>	
 				<div class="form-group text-left">
	 				<label>Class & Section</label>	
	 				<input class="form-control" type="text" id="p1_1">		 					
 				</div>	
 				<div class="form-group text-left">
	 				<label>Academic Year</label>	
	 				<input class="form-control" type="text" id="p1_2">		 					
 				</div>	
 				<div class="form-group text-left">
	 				<label>Generated On</label>	
	 				<input class="form-control" type="date" id="p1_3">		 					
 				</div>	
 				<div class="form-group text-left">
	 				<label>Version</label>	
	 				<input class="form-control" type="number" id="p1_4">		 					
 				</div>	
 				<div class="text-center" style="padding-top: 10px;">
 					<button class="btn btn-primary" id="phase1">Submit Phase 1</button>
 				</div>
 			</div>

			<!-- Second Block -->
 			<div  id="user_pass_2" style="display: none; padding: 40px 0px;">

 				<div class="text-center" style="padding-top: 0px;">
 					<h6>Add Minutes to Time Table</h6>
 				</div>
 				<div class="row" style="padding: 15px;">
 					<div class="col-sm-2 time_crumbs" id="f5">5</div>	
 					<div class="col-sm-2 time_crumbs" id="f10">10</div>	
 					<div class="col-sm-2 time_crumbs" id="f15">15</div>	
 					<div class="col-sm-2 time_crumbs" id="f20">20</div>	
 					<div class="col-sm-2 time_crumbs" id="f25">25</div>	
 					<div class="col-sm-2 time_crumbs" id="f30">30</div>	
 					<div class="col-sm-2 time_crumbs" id="f35">35</div>	
 					<div class="col-sm-2 time_crumbs" id="f40">40</div>	
 					<div class="col-sm-2 time_crumbs" id="f45">45</div>	
 					<div class="col-sm-2 time_crumbs" id="f50">50</div>	
 					<div class="col-sm-2 time_crumbs" id="f55">55</div>	
 					<div class="col-sm-2 time_crumbs" id="f60">60</div>	
 				</div>
 			</div>

			<!-- Third Block -->
 			<div  id="user_pass_3" style="display: none; padding: 40px 0px; ">

				<div class="row" style="padding: 0px 0px;"> 
					<div class="col-md-8">
						<input class="form-control" id="subject_title" type="text" placeholder="Subject Title" /> 
					</div>	
					<div class="col-md-4 text-left" > 
						<div  class="btn-warning add_subject" style="cursor: pointer; font-weight: 600; padding: 8px; text-align: center; border-radius: 5px;">Add +</div>
					</div>
				</div>
				<div class="row subject_wrapper" style="padding: 10px;"> 
					
				</div>
 			</div>

		</div>

		<div class="col-lg-9" style="min-height: 100vh; background-color: rgb(164, 207, 84); display: flex; flex-direction: column; justify-content: center; text-align: center;">
		 	<div class="time_table_c2" style="">
		 		<h6 style="padding: 10px;">TIME TABLE</h6>
		 		<div class="table-responsive" >
					<table class="table table-bordered" style="font-size: 13px;">
					  <thead>
					    <tr>
					      <th colspan="27%" scope="col" id="t_row1_d1"></th>
					      <th colspan="27%" scope="col" id="t_row1_d2"></th>
					      <th colspan="27%" scope="col" id="t_row1_d3"></th>
					      <th colspan="19%" scope="col" id="t_row1_d4"></th>
					    </tr>

					    <tr id="table_time">
					    	<th colspan="10%">Time/Days</th>
					    	<th class="drop" id="t_row2_d1" colspan="10%"></th>
					    	<th class="drop" id="t_row2_d2" colspan="10%"></th>
					    	<th class="drop" id="t_row2_d3" colspan="10%"></th>
					    	<th class="drop" id="t_row2_d4" colspan="10%"></th>
					    	<th class="drop" id="t_row2_d5" colspan="10%"></th>
					    	<th class="drop" id="t_row2_d6" colspan="10%"></th>
					    	<th class="drop" id="t_row2_d7" colspan="10%"></th>
					    	<th class="drop" id="t_row2_d8" colspan="10%"></th>
					    	<th class="drop" id="t_row2_d9" colspan="10%"></th>
					    </tr>

					  </thead>
					  <tbody id="t_body">
					  </tbody>

					</table>
		 		</div>
		 		<button class="btn btn-success no-print" onclick="myFunction()">Print Time Table</button>
		 	</div>	 				
		</div>

	</div>
</div>
  	 		

<form style="display: none;" id="time_table_form" action="./backend_logic.php" method="POST" >
	<input type="hidden" name="class" value="">
	<input type="hidden" name="section" value="">
	<input type="hidden" name="academic_year" value="">
	<input type="hidden" name="version" value="">
	<input type="hidden" name="time_table_form_data">
	<div class="text-center" style="padding-top: 15px;">
    	<button type="button" class="btn btn-success">Upload</button>
    	<button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
	</div>
</form>

<script>
var d = new Date ();
var hours, minutes,sd=1;
var days = ["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];


days.forEach(function(entry) {
    
    var days_1 = $('<tr>');
    days_1.append( '<th colspan="10%" scope="col">' + entry + '</th>' );
	for(var i=1; i<=9;i++)
	 days_1.append( $('<td colspan="10%" scope="col" class="drop_2">') );	

	$('#t_body').append(days_1);
});

function myFunction() {
    window.print();
}
	
$(document).ready(function(){

        var max_fields       = 20;
        var wrapper          = $(".subject_wrapper");
        var add_subject      = $(".add_subject");

        var x = 1;
        $(add_subject).click(function(e){
            e.preventDefault();
            if(x < max_fields){
                x++;
                var $item = $(' <div class="col-md-6 subject_crumbs" id="s_code'+ x +'" style="z-index:99; border:1px solid lightgray; padding: 8px 5px;height: 40px;border-radius: 5px;background-color: dodgerblue;color:white;"><span style=" width:99%;  overflow: hidden;white-space: nowrap;display: block;text-overflow: ellipsis;" >'+ $("#subject_title").val() +'</span></div>');
                $item.draggable({ revert: true, cancel: false,appendTo: "body",zindex:9999});
                $('.subject_wrapper').append($item);
                 $("#subject_title").val('');
            }
	        else
	        {
	          alert('You Reached the limits')
	        }
        });

	 
	     $( ".drop_2" ).droppable( {
	     	accept:".subject_crumbs", 
            drop :function(event, ui) 
        	{ 	   			
        		$(this).text( $("#" + ui.draggable.prop('id')).text() );
        	} 
        } ); 
 
	$( function() {
		$( ".non_drop" ).draggable(); 
	    $( ".time_crumbs" ).draggable({ revert: true,containment:"document"});
	    //$( ".subject_crumbs" ).draggable({ revert: true, cancel: false,stack: "div2",containment: "window"});	    
	     $( ".drop" ).droppable( {
	     	accept:".time_crumbs", 
            drop :function(event, ui) 
        	{ 
 	 	   		var print_slot = '';	
 	 	   		print_slot += d.getHours() + ":" + d.getMinutes() + "-" ; 
 	   			d.setMinutes ( d.getMinutes() + parseInt($("#" + ui.draggable.prop('id')).text()) );
 	   			print_slot +=  d.getHours() + ":" + d.getMinutes() ;
        		
        		if(sd<=9)
        		{
        		  $('#t_row2_d' + sd ).text( print_slot ); 
        		}
        		if(sd>9)
        		{					
		    		sd=0;
		    		print_slot = '';
		    		d.setHours(hours, minutes, 0);
		    		for(var i=1; i<=9;i++)
		    		{
	        		  $('#t_row2_d' + i ).text(''); 		    			
		    		}
        		}	
        		++sd;
        		//console.log( print_slot );
        	} 
        } ); 
	} );
    
    $("#phase1").click(function(){

        if( $("#p1_1").val() == "" ||  $("#p1_2").val() == "" || $("#p1_3").val() == "" || $("#p1_4").val() == "" || $("#p2_1").val() == "")
         alert('Please Enter All Fields Of Phase 1');	
     	else
     	{
     		$("#t_row1_d1").text( 'Class : ' + $("#p1_1").val());
     		$("#t_row1_d2").text( 'Academic Year : ' + $("#p1_2").val());
     		$("#t_row1_d3").text( 'Generated On : ' + $("#p1_3").val());
     		$("#t_row1_d4").text( 'Version : ' + $("#p1_4").val());
	    	
	    	hours = $("#p2_1").val().split(":")[0];
	        minutes = $("#p2_1").val().split(":")[1];
    	    d.setHours(hours, minutes, 0);
     	}	
    });


        $('#step1').click(function(){
 			$('#user_pass_1').css('display','block');
 			$('#user_pass_2').css('display','none');
 			$('#user_pass_3').css('display','none'); 					
        });
        $('#step2').click(function(){
 			$('#user_pass_2').css('display','block');
 			$('#user_pass_1').css('display','none');
 			$('#user_pass_3').css('display','none'); 					
        });
        $('#step3').click(function(){
 			$('#user_pass_3').css('display','block');
 			$('#user_pass_1').css('display','none');
 			$('#user_pass_2').css('display','none'); 					
        });


       function submit_form()
       {
		    var form = $('#time_table_form');
		    var url = form.attr('action');
		    var type = form.attr('type');

		    $.ajax({
		           type: type,
		           url: url,
		           data: form.serialize(), 
		           success: function(data)
		           {
		               console.log(data); 
		           }
		         });

		    e.preventDefault();        	
       }

});
</script>


<!-- FOOTER -->
<footer class="grid">

	 <!-- Top Navigation -->
	 <nav class="s-12 grid background-orange background-primary-hightlight">
		<!-- logo -->
	   </div>
		<div class="top-nav s-12 l-9">
		   <div class="hamburger-menu"></div> 
		   <div class="hamburger-icon"></div>
		   <ul>
			 <li><a href="index.html">Home</a></li>
			 <li><a href="department.html">Departments</a></li>
			 <li><a href="payment.html">Payment</a></li>
			 <li><a href="register.html">Register</a></li>
			 <li><a href="time table.html">Time Table</a></li>
		   </ul>
		</div>
	   </div>
		
	 </nav>
	
	<div class="s-12 m-9 l-3 padding-2x margin-bottom background-dark">
	 <a class="download-link" href="C:\Users\Sir Aroma\Desktop\WEBSITE\timetable.xlsx" download>Click to Download Computer Science TimeTable</a></h2>
	   <br><a class="download-link" href="C:\Users\Sir Aroma\Desktop\WEBSITE\STUDENT_HANDBOOK.pdf" download>Click to Download Student Manual</a></h2>
	  
	</div>

	<div class="s-12 m-9 l-3 padding-2x margin-bottom background-orange">
	  <!--<h2 class="text-strong text-uppercase"></h2>-->
	  <h2 class="text-strong text-uppercase">About Our Faculty</h2>
	  <p>Faculty of Applied Science and Technology, is thrilled to let you know how best our programmes contribute
	   to the development in the country.
	  </p>
   </div>

	<div class="s-12 m-9 l-3 padding-2x margin-bottom background-red">
	  <h2 class="text-strong text-uppercase">CONTACT ---->> </h2>
	 
	  </p>
   </div>
	
   <div class="s-12 m-9 l-3 padding-2x margin-bottom background-aqua">
	   <!--<h2 class="text-strong text-uppercase">Contact Us</h2>-->
	   <p><b class="text-primary margin-right-10 text-blue"></b>Location: Kumasi - Ashanti Region, Ghana, W/A
		Postal Address: P. O. Box 854, Kumasi 
		Email: info@kstu.edu.gh
		Tel: Admissions: +233(0)322 496 534, +233(0)322 496 380
		 </p>
	   <p><b class="text-primary margin-right-10"></b> <a class="text-primary-hover" href="opanyin2@gmail.com">opanyin2@gmail.com</a></p>
	</div>
	
	<!-- Footer - bottom -->
	<div class="s-12 text-center margin-bottom">
	  <p class="text-size-12">Copyright 2024 - LetThePoorEnjoy - SupplyTheDemand - KB97 - Aroma</p>
	</div>
  </footer> 
</body>
</html>
